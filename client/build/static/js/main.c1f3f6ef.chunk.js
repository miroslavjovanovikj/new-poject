(this.webpackJsonpreact_=this.webpackJsonpreact_||[]).push([[0],{37:function(e,t,a){e.exports=a(73)},42:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),i=a.n(l),c=(a(42),a(1)),o=a(2),s=a(4),u=a(3),m=a(16),h=(a(43),a(36)),d=a(15),b=a(5),p=a(9),g=a.n(p),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"logout",value:function(){g.a.get("/http://localhost:27017/logout").then((function(){sessionStorage.removeItem("myData")})).catch((function(e){return e}))}},{key:"logout",value:function(){sessionStorage.removeItem("myData")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.logout},"logout"))}}]),a}(n.Component),v=(n.Component,a(7)),f=a(33),j=a.n(f),O=(a(30),a(64),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleDelete=n.handleDelete.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleDelete",value:function(e){this.props.deleteItem(this.props.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3 "},r.a.createElement("div",{className:"Show"},r.a.createElement("h3",{className:"Show-Title"},this.props.obj.title),r.a.createElement("img",{className:"Show-img",src:this.props.obj.img}),r.a.createElement(j.a,{lines:2,more:"Show more",less:"Show less",anchorClass:"",expanded:!1,width:500},r.a.createElement("p",{className:"Show-text"},this.props.obj.text))),r.a.createElement("div",{className:"Show-buttons"},r.a.createElement("button",{className:"Show-delete-button",type:"button",onClick:this.handleDelete},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(v.b,{to:"/edit/".concat(this.props.obj._id)},r.a.createElement("i",{className:"fas fa-pen"}))))))}}]),a}(n.Component)),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={blogs:[],auth:!1},n.delete=n.delete.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("myData");g.a.get("http://localhost:27017/blog/",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){e.setState((function(e){return Object(d.a)({},e,{blogs:Object(h.a)(t.data.data)})}))})).catch((function(e){console.log(e)}))}},{key:"delete",value:function(e){var t=this;g.a.delete("http://localhost:27017/blog/".concat(e)).then((function(){t.setState((function(t){return Object(d.a)({},t,{blogs:t.blogs.filter((function(t){return t._id!==e}))})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,sessionStorage.getItem("myData")?this.state.blogs.map((function(t){return r.a.createElement(O,{obj:t,deleteItem:e.delete,value:t._id,key:t._id})})):r.a.createElement("h3",null,"You need to login first"))}}]),a}(n.Component),y=a(13),N=(a(68),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",img:"",text:"",redirect:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.onSubmit=n.onSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={title:this.state.title,img:this.state.img,text:this.state.text},n=sessionStorage.getItem("myData");g.a.post("http://localhost:27017/blog",a,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t.setState((function(e){return Object(d.a)({},e,{title:t.state.title,img:t.state.img,text:t.state.text,redirect:!0})}))}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(m.a,{to:"/blog"}):r.a.createElement("div",{className:"Create"},sessionStorage.getItem("myData")?r.a.createElement("div",{className:"Create-container"},r.a.createElement("h3",{className:"Create-h3"},"Create"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("input",{type:"text",className:"Create-input",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:"Title"})),r.a.createElement("fieldset",null,r.a.createElement("input",{type:"text",className:"Create-input",name:"img",value:this.state.img,onChange:this.handleChange,placeholder:"Image URL"})),r.a.createElement("fieldset",null,r.a.createElement("textarea",{name:"text",className:"Create-input",placeholder:"Text",value:this.state.text,onChange:this.handleChange,cols:"50",rows:"7"},this.state.text)),r.a.createElement("input",{className:"Create-button Create-input",type:"submit",value:"create"}))):r.a.createElement("h2",null,"You are not loged in"))}}]),a}(n.Component)),S=(a(69),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",img:"",text:"",redirect:!1},n.handleEdit=n.handleEdit.bind(Object(b.a)(n)),n.onSubmit=n.onSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("http://localhost:27017/edit/"+this.props.match.params.id).then((function(t){e.setState((function(e){return Object(d.a)({},e,{title:t.data.title,img:t.data.img,text:t.data.text})}))})).catch((function(e){console.log(e)}))}},{key:"handleEdit",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={title:this.state.title,img:this.state.img,text:this.state.text,redirect:!0};g.a.put("http://localhost:27017/update/"+this.props.match.params.id,a).then((function(e){t.setState((function(t){return Object(d.a)({},t,{title:e.data.title,img:e.data.img,text:e.data.text,redirect:!0})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(m.a,{to:"/blog"}):r.a.createElement("div",{className:"Edit-container"},r.a.createElement("h3",{className:"Edit-h3"},"Edit"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("p",{className:"Edit-p"},"Title  "),r.a.createElement("input",{className:"Edit-input",type:"text",name:"title",value:this.state.title,onChange:this.handleEdit})),r.a.createElement("fieldset",null,r.a.createElement("p",{className:"Edit-p"},"Image Url"),r.a.createElement("input",{className:"Edit-input",type:"text",name:"img",value:this.state.img,onChange:this.handleEdit})),r.a.createElement("fieldset",null,r.a.createElement("p",{className:"Edit-p"},"Text"),r.a.createElement("textarea",{className:"Edit-input",name:"text",value:this.state.text,cols:"50",rows:"7",onChange:this.handleEdit})),r.a.createElement("input",{className:"Edit-button Edit-input",type:"submit",value:"submit"})))}}]),a}(n.Component)),x=(a(70),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Navbar"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"Navbar-Ul"},r.a.createElement("div",{className:"container"},r.a.createElement("li",{className:"Navbar-Li-logo"},r.a.createElement("i",{className:"fas fa-hippo logo"})),r.a.createElement("li",{className:"Navbar-Li"},r.a.createElement(v.c,{to:"/new"},"Create")),r.a.createElement("li",{className:"Navbar-Li"},r.a.createElement(v.c,{to:"/blog"},"Home")),r.a.createElement("li",{className:"Navbar-Li-right"},r.a.createElement(v.c,{to:"/logout"},"Logout")),r.a.createElement("li",{className:"Navbar-Li-right"},r.a.createElement(v.c,{to:"/login"},"Login")),r.a.createElement("li",{className:"Navbar-Li-right"},r.a.createElement(v.c,{to:"/register"},"Sign in"))))))}}]),a}(n.Component)),k=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",redirect:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.onSubmit=n.onSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};g.a.post("http://localhost:27017/login",a).then((function(e){sessionStorage.setItem("myData",e.data.token),console.log(e.data.token),t.setState({redirect:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(m.a,{to:"/blog"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),a}(n.Component),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",redirect:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.onSubmit=n.onSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};g.a.post("http://localhost:27017/register",a).then((function(){t.setState({username:"",password:"",redirect:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(m.a,{to:"/blog"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"register"})))}}]),a}(n.Component),D=(a(71),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Error"},r.a.createElement("h1",{className:"Error-text"},"404 Page not found"),r.a.createElement("i",{className:"Error-icon fas fa-exclamation-triangle"}))}}]),a}(n.Component)),I=(a(72),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:k}),r.a.createElement(m.b,{exact:!0,path:"/blog",render:function(e){return r.a.createElement(C,Object.assign({isAuthenticated:!1},e))}}),r.a.createElement(m.b,{exact:!0,path:"/new",component:N}),r.a.createElement(m.b,{exact:!0,path:"/edit/:id",component:S}),r.a.createElement(m.b,{exact:!0,path:"/show",component:O}),r.a.createElement(m.b,{exact:!0,path:"/login",component:k}),r.a.createElement(m.b,{exact:!0,path:"/register",component:w}),r.a.createElement(m.b,{exact:!0,path:"/logout",component:E}),r.a.createElement(m.b,{render:function(){return r.a.createElement(D,null)}})))}}]),a}(n.Component));i.a.render(r.a.createElement(v.a,null,r.a.createElement(m.b,{path:"/",component:I})),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.c1f3f6ef.chunk.js.map